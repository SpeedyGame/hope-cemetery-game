[gd_scene load_steps=21 format=3 uid="uid://b4j08i851omb2"]

[ext_resource type="Script" uid="uid://cs645mbjrml0" path="res://scripts/managers/room_scene.gd" id="1_r8psk"]
[ext_resource type="PackedScene" uid="uid://cb6q4s8g4n1qm" path="res://scenes/player/player_cat.tscn" id="1_w1efa"]
[ext_resource type="PackedScene" uid="uid://bff41rboqsk07" path="res://scenes/npcs/choreographed_npc.tscn" id="4_grnmm"]
[ext_resource type="PackedScene" uid="uid://bus0mj0a28s62" path="res://scenes/npcs/stationaryNPC.tscn" id="5_faceq"]
[ext_resource type="SpriteFrames" uid="uid://jb7mo0l7yycw" path="res://art/sprites/sprite_frames/alex_frames.tres" id="6_ir6st"]
[ext_resource type="Texture2D" uid="uid://dkif71if1xibt" path="res://art/environment/dorm/dormbackground.png" id="7_r8psk"]
[ext_resource type="Texture2D" uid="uid://bben8aev0a50k" path="res://art/environment/dorm/dormspritesheet.png" id="8_k8xhb"]
[ext_resource type="Texture2D" uid="uid://b5uftsehvwdtn" path="res://art/sprites/icon.svg" id="8_q8nly"]
[ext_resource type="PackedScene" uid="uid://ca6wc8pbh1o8m" path="res://scenes/player/portal_area.tscn" id="9_q8nly"]

[sub_resource type="Curve2D" id="Curve2D_k8xhb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -27, 68, 0, 0, 0, 0, -75, 67, 0, 0, 0, 0, -75, 90, 0, 0, 0, 0, -38, 90)
}
point_count = 4

[sub_resource type="Curve2D" id="Curve2D_q8nly"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -39, 90, 0, 0, 0, 0, -162, 59, 0, 0, 0, 0, -247, 57)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_e12k6"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -245, 57, 0, 0, 0, 0, -184, 58)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u2c82"]
size = Vector2(14, 27)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r8psk"]
size = Vector2(40, 13)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q8nly"]
size = Vector2(29, 11)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e12k6"]
size = Vector2(15, 7)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k8xhb"]
size = Vector2(35, 11)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kg3ul"]
size = Vector2(22, 21)

[sub_resource type="CircleShape2D" id="CircleShape2D_k8xhb"]
radius = 20.3961

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tjllj"]

[node name="Room" type="Node2D"]
y_sort_enabled = true
position = Vector2(2, 0)
script = ExtResource("1_r8psk")

[node name="PlayerCat" parent="." instance=ExtResource("1_w1efa")]
position = Vector2(-25, 100)

[node name="AlexChoreography" parent="." node_paths=PackedStringArray("stationary_npc") instance=ExtResource("4_grnmm")]
stationary_npc = NodePath("../Alex")
idle_animation = "idle"
walk_up_animation = "walk_back"
walk_down_animation = "walk_forward"
walk_right_animation = "walk_side"
speed = 50.0
lerp_rate = 0.0
is_progressing = false
dialogic_signals_to_progress_to = Array[String](["AlexMove"])

[node name="Path2D" type="Path2D" parent="AlexChoreography"]
curve = SubResource("Curve2D_k8xhb")

[node name="Path2D2" type="Path2D" parent="AlexChoreography"]
curve = SubResource("Curve2D_q8nly")

[node name="Path2D4" type="Path2D" parent="AlexChoreography"]
curve = SubResource("Curve2D_e12k6")

[node name="Alex" parent="." node_paths=PackedStringArray("animation_player") instance=ExtResource("5_faceq")]
z_as_relative = false
position = Vector2(-28, 69)
animation_player = NodePath("AnimatedSprite2D")
prompt_height = -30.0
metadata/_edit_group_ = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Alex"]
sprite_frames = ExtResource("6_ir6st")
animation = &"walk_side"
frame_progress = 0.567999
offset = Vector2(-1, -11)
flip_h = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Alex"]
position = Vector2(0, -13)
shape = SubResource("RectangleShape2D_u2c82")
debug_color = Color(0.933632, 0.123661, 0.562017, 0.42)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(-107, 59)
zoom = Vector2(6, 6)
position_smoothing_enabled = true

[node name="Background" type="Sprite2D" parent="."]
z_index = -5
position = Vector2(-5, 137)
scale = Vector2(0.4, 0.4)
texture = ExtResource("7_r8psk")

[node name="Bed" type="StaticBody2D" parent="."]
y_sort_enabled = true
position = Vector2(-29, 59)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bed"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_r8psk")

[node name="Sprite2D" type="Sprite2D" parent="Bed"]
position = Vector2(0, -1)
texture = ExtResource("8_k8xhb")
offset = Vector2(1, -5)
region_enabled = true
region_rect = Rect2(120, 2, 48, 30)

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls"]
polygon = PackedVector2Array(-214, 50, 0, 50, 0, 119, -214, 119, -214, 65, -222, 65, -222, 126, 7, 125, 7, 44, -214, 43)

[node name="Desk" type="StaticBody2D" parent="."]
y_sort_enabled = true
position = Vector2(-34, 43)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Desk"]
position = Vector2(-39.5, 16.5)
shape = SubResource("RectangleShape2D_q8nly")

[node name="Sprite2D" type="Sprite2D" parent="Desk"]
position = Vector2(-39, 14)
scale = Vector2(1.3, 1.3)
texture = ExtResource("8_k8xhb")
offset = Vector2(0, -3)
region_enabled = true
region_rect = Rect2(41, 4, 34, 28)

[node name="TrashBin" type="StaticBody2D" parent="."]
y_sort_enabled = true
position = Vector2(-40, 42)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="TrashBin"]
position = Vector2(-62, 68.5)
shape = SubResource("RectangleShape2D_e12k6")

[node name="Sprite2D" type="Sprite2D" parent="TrashBin"]
position = Vector2(-62, 69)
texture = ExtResource("8_k8xhb")
offset = Vector2(-1, -7)
region_enabled = true
region_rect = Rect2(236, 3, 30, 32)

[node name="Poster" type="Sprite2D" parent="."]
position = Vector2(-186, 27)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(3, 1, 30, 32)

[node name="Poster2" type="Sprite2D" parent="."]
position = Vector2(-47, 20)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(79, 1, 32, 32)

[node name="Window1" type="Sprite2D" parent="."]
position = Vector2(-80, 27)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(207, 2, 30, 32)

[node name="Window2" type="Sprite2D" parent="."]
position = Vector2(-160, 27)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(207, 2, 30, 32)

[node name="Celebrate" type="Sprite2D" parent="."]
z_index = 1
position = Vector2(-120, 22)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(72, 33, 68, 20)

[node name="Clothes" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(-165, 65)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(172, 8, 36, 24)

[node name="Bed2" type="StaticBody2D" parent="."]
y_sort_enabled = true
position = Vector2(-27, 111)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bed2"]
position = Vector2(1.5, 0.5)
shape = SubResource("RectangleShape2D_k8xhb")

[node name="Sprite2D" type="Sprite2D" parent="Bed2"]
position = Vector2(0, -2)
texture = ExtResource("8_k8xhb")
offset = Vector2(1, -5)
region_enabled = true
region_rect = Rect2(120, 3, 49, 30)

[node name="StationaryNPC2" parent="." node_paths=PackedStringArray("animation_player", "immediate_interaction_area") instance=ExtResource("5_faceq")]
position = Vector2(-198, 103)
animation_player = NodePath("Sprite2D")
prompt_height = -10.0
interact_immediately = true
immediate_interaction_area = NodePath("InteractionArea")
immediate_timeline = "test_timeline"

[node name="CollisionShape2D" type="CollisionShape2D" parent="StationaryNPC2"]
z_index = 5
position = Vector2(1, 0.5)
shape = SubResource("RectangleShape2D_kg3ul")
debug_color = Color(0.961248, 0, 0.511433, 0.42)

[node name="Sprite2D" type="Sprite2D" parent="StationaryNPC2"]
position = Vector2(1, 1.5)
scale = Vector2(0.15625, 0.148438)
texture = ExtResource("8_q8nly")

[node name="InteractionArea" type="Area2D" parent="StationaryNPC2"]
collision_layer = 0
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="StationaryNPC2/InteractionArea"]
shape = SubResource("CircleShape2D_k8xhb")
debug_color = Color(0.856153, 0.366551, 0, 0.42)

[node name="Clothes2" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(-149, 78)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8_k8xhb")
flip_h = true
region_enabled = true
region_rect = Rect2(172, 8, 36, 24)

[node name="Clothes3" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(-180, 100)
scale = Vector2(0.6, 0.6)
texture = ExtResource("8_k8xhb")
region_enabled = true
region_rect = Rect2(172, 8, 36, 24)

[node name="PortalArea" parent="." instance=ExtResource("9_q8nly")]
file_path = "res://scenes/environments/hopeCemetery.tscn"

[node name="CollisionShape2D" type="CollisionShape2D" parent="PortalArea"]
position = Vector2(-229, 51)
shape = SubResource("RectangleShape2D_tjllj")
debug_color = Color(0.37668, 0.00141023, 0.873411, 0.42)
